## 5. LRU(ì¹´ì¹´ì˜¤ ìºì‹œ ë³€í˜•:ì‚½ìž… ì •ë ¬ ì‘ìš©)

### ì •ë ¬-ì‚½ìž…ì •ë ¬ (Insert Sort)

ì‚½ìž… ì •ë ¬ì´ëž€ ì •ë ¬ì„ ì§„í–‰í•  ì›ì†Œì˜ indexë³´ë‹¤ ë‚®ì€ ê³³ì— ìžˆëŠ” ì›ì†Œë“¤ì„ íƒìƒ‰í•˜ë©° ì•Œë§žì€ ìœ„ì¹˜ì— ì‚½ìž…í•´ì£¼ëŠ” ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.
ë™ìž‘ ë°©ì‹ì€ ë‘ ë²ˆì§¸ indexë¶€í„° ì‹œìž‘í•œë‹¤. ê·¸ ì´ìœ ëŠ” ì²« ë²ˆì§¸ indexëŠ” ë¹„êµí•  ì›ì†Œê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.
ì•Œê³ ë¦¬ì¦˜ì´ ë™ìž‘í•˜ëŠ” ë™ì•ˆ ê³„ì†í•´ì„œ ì •ë ¬ì´ ì§„í–‰ë˜ë¯€ë¡œ ë°˜ë“œì‹œ ë§¨ ì™¼ìª½ indexê¹Œì§€ íƒìƒ‰í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ìž¥ì ì´ ìžˆë‹¤.
ëª¨ë‘ ì •ë ¬ë˜ì–´ ìžˆëŠ” Optimalí•œ ê²½ìš° ëª¨ë“  ì›ì†Œê°€ í•œ ë²ˆì”©ë§Œ ë¹„êµë˜ë¯€ë¡œ O(n)ì˜ ì‹œê°„ ë³µìž¡ë„ë¥¼ ê°€ì§„ë‹¤.
ë˜í•œ ê³µê°„ë³µìž¡ë„ëŠ”, í•˜ë‚˜ì˜ ë°°ì—´ì—ì„œ ì •ë ¬ì´ ì´ë£¨ì–´ì§€ë¯€ë¡œ O(n)ì´ë‹¤.

ðŸ“Œ ëŠë‚€ì 
ì´ë¡ ë§Œ ì•Œê³  ìžˆë˜ê±¸ ì½”ë“œë¡œ ì§œë ¤ë‹ˆ ì–´ë ¤ì› ë‹¹..

### ë‚˜ì˜ ì½”ë“œ

```js
function solution(size, arr) {
  const cache = [];
  const accesses = [];

  arr.forEach((value) => {
    const cachedIndex = accesses.indexOf(value);

    if (cachedIndex !== -1) {
      // ê°’ì´ ìºì‹œì— ìžˆëŠ” ê²½ìš°, ì‚¬ìš©í•œ ìš”ì†Œë¥¼ ì œê±°í•˜ê³  ë°°ì—´ ë’·ë‹¨ìœ¼ë¡œ ì´ë™
      accesses.splice(cachedIndex, 1);
    } else {
      if (cache.length >= size) {
        // ìºì‹œê°€ ê°€ë“ì°¬ ê²½ìš°, ê°€ìž¥ ì˜¤ëž˜ëœ ê°’ ì‚­ì œ
        const removeIndex = accesses.shift();
        const cacheIndex = cache.indexOf(removeIndex);
        cache.splice(cacheIndex, 1);
      }
      // ë‹¤ìŒì— ì‚­ì œí•  ê°’ì´ ì—†ë‹¤ë©´ ìºì‹œì˜ ê°’ì„ ì¶”ê°€
      cache.push(value);
    }
    accesses.push(value);
  });

  return cache;
}

let arr = [1, 2, 3, 2, 6, 2, 3, 5, 7];
console.log(solution(5, arr));
```

### ê°•ì‚¬ë‹˜ ì½”ë“œ

```js
function solution(size, arr) {
  let answer = Array.from({ length: size }, () => 0);
  arr.forEach((x) => {
    let pos = -1;
    for (let i = 0; i < size; i++) if (x === answer[i]) pos = i;
    if (pos === -1) {
      for (let i = size - 1; i >= 1; i--) {
        answer[i] = answer[i - 1];
      }
    } else {
      for (let i = pos; i >= 1; i--) {
        answer[i] = answer[i - 1];
      }
    }
    answer[0] = x;
  });

  return answer;
}
function solution2(size, arr) {
  let answer = [];
  arr.forEach((x) => {
    let pos = -1;
    for (let i = 0; i < size; i++) if (x === answer[i]) pos = i;
    if (pos === -1) {
      answer.unshift(x);
      if (answer.length > size) answer.pop();
    } else {
      answer.splice(pos, 1);
      answer.unshift(x);
    }
  });

  return answer;
}

let arr = [1, 2, 3, 2, 6, 2, 3, 5, 7];
console.log(solution(5, arr));
```
